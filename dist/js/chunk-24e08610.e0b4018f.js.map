{"version":3,"sources":["webpack:///./src/components/ListCard.vue","webpack:///./src/components/ListCard.vue?3b0f","webpack:///./src/pages/RecLists/RecLists.vue?b730","webpack:///./src/components/TabsBasic.vue","webpack:///./src/components/TabsBasic.vue?c88f","webpack:///./src/components/ListCard.vue?e670","webpack:///./src/pages/RecLists/RecLists.vue","webpack:///./src/pages/RecLists/RecLists.vue?088b","webpack:///./src/components/TabsBasic.vue?1481"],"names":["class","playlist","$router","push","id","alt","key","imgUrl","genImgURL","simplifyPlayCount","playCount","name","props","Object","setup","coverImgUrl","picUrl","__exports__","render","tabs","tab","index","on","onClick","style","fontSize","type","Number","default","previousOnTab","playlists","HQPlaylist","description","length","totalPageNum","LIMIT","currentPage","getPlaylists","document","querySelector","scrollIntoView","behavior","tabOn","params","cat","limit","offset","value","result","code","Math","ceil","total","newValue","find","immediate","getHQPlaylist","components","TabsBasic","ListCard","Pagination"],"mappings":"yPAOSA,MAAM,Y,GAEJA,MAAM,O,uBACX,eAEM,OAFDA,MAAM,aAAW,CACpB,eAAoC,KAAjCA,MAAM,2B,SAGVA,MAAM,a,4DAVH,EAAAC,U,iBAFR,eAaM,O,MAZJD,MAAM,YAEL,QAAK,+BAAE,EAAAE,QAAQC,KAAI,kCAAyC,EAAAF,SAASG,S,CAEtE,eAMM,MANN,EAMM,C,iCALJ,eAA4D,OAAvBC,IAAI,GAAIC,IAAK,EAAAC,Q,eAArC,EAAAC,UAAU,EAAAD,OAAM,QAC7B,eAAuE,MAAvE,EAAiB,QAAK,eAAG,EAAAE,kBAAkB,EAAAR,SAASS,YAAS,GAC7D,IAIF,eAA4C,IAA5C,EAA4C,eAApB,EAAAT,SAASU,MAAI,M,sCAO1B,GACbC,MAAO,CACLX,SAAUY,QAEZC,MAJa,SAIPF,GACJ,IAAML,EAAS,gBAAS,WACtB,OAAIK,EAAMX,SAASc,YAAoBH,EAAMX,SAASc,YAClDH,EAAMX,SAASe,OAAeJ,EAAMX,SAASe,YAAjD,KAEF,MAAO,CAAET,SAAQC,UAAA,OAAWC,kBAAA,U,iCCvBhC,MAAMQ,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,U,oCCTf,W,0FCEOlB,MAAM,c,8DAAX,eAUM,MAVN,EAUM,E,mBATJ,eAQC,2BALwB,EAAAmB,MAAI,SAAnBC,EAAKC,G,wBAHf,eAQC,QAPCrB,MAAK,gBAAC,YAAW,IACHoB,EAAIE,MAEjBhB,IAAKe,EACL,QAAK,mBAAE,EAAAE,QAAQH,IACfI,MAAK,mCAAiB,EAAAC,SAAjB,S,eACFL,EAAIT,MAAI,S,sBAOH,GACbC,MAAO,CACLa,SAAU,CACRC,KAAMC,OACNC,QAAS,KAGbd,MAPa,WASX,IAAIK,EAAO,eAAO,QAGdU,EAAgBV,EAAK,GACzB,SAASI,EAAQH,GACXS,IAAkBT,IACpBA,EAAIE,IAAK,EACTO,EAAcP,IAAK,EACnBO,EAAgBT,GAGpB,MAAO,CAAEG,UAASJ,U,iCC9BtB,MAAMF,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,U,2DCTf,W,2KCEOlB,MAAM,a,SACJA,MAAM,Y,GACsDK,IAAI,I,GAC9DL,MAAM,W,uBACT,eAA2B,OAAtBA,MAAM,OAAM,QAAI,M,GAClBA,MAAM,Q,GACNA,MAAM,e,GAINA,MAAM,c,uBACT,eAAwB,OAAnBA,MAAM,QAAM,Y,GACoDK,IAAI,I,SAIxEL,MAAM,iB,uKAhBb,eAoBM,MApBN,EAoBM,CAnBwB,EAAA8B,UAAUC,WAAW3B,I,iBAAjD,eAaM,MAbN,EAaM,C,eAZJ,eAAwE,MAAxE,EAAwE,W,GAA3D,EAAAI,UAAU,EAAAsB,UAAUC,WAAWhB,YAAW,QACvD,eAMM,MANN,EAMM,CALJ,EACA,eAAmD,IAAnD,EAAmD,eAAhC,EAAAe,UAAUC,WAAWpB,MAAI,GAC5C,eAEI,IAFJ,EAEI,eADC,EAAAmB,UAAUC,WAAWC,aAAW,KAGvC,eAGM,MAHN,EAGM,CAFJ,E,eACA,eAA8E,MAA9E,EAA8E,W,GAAjE,EAAAxB,UAAU,EAAAsB,UAAUC,WAAWhB,YAAW,iB,sBAG3D,eAAuB,GACU,EAAAe,UAAUA,UAAUG,Q,iBAArD,eAEM,MAFN,EAEM,E,mBADJ,eAAwG,2BAAlE,EAAAH,UAAUA,WAAS,SAAvC7B,EAAUoB,G,wBAA5B,eAAwG,GAA5Cf,IAAKe,EAAQpB,SAAUA,G,uDAErF,eAAsD,GAAzCiC,aAAc,EAAAA,cAAY,2B,4GAYrCC,EAAQ,GACC,GACbrB,MADa,WAEX,IAAIgB,EAAY,eAAS,CAAEC,WAAY,GAAID,UAAW,KAElDI,EAAe,eAAI,GAEnBE,EAAc,eAAI,GACtB,eAAQ,cAAeA,GACvB,eAAMA,GAAa,WACjBC,IACAC,SAASC,cAAc,MAAMC,eAAe,CAAEC,SAAU,cAG1D,IAAItB,EAAO,eAAS,CAClB,CAAER,KAAM,KAAMW,IAAI,GAClB,CAAEX,KAAM,KAAMW,IAAI,GAClB,CAAEX,KAAM,KAAMW,IAAI,GAClB,CAAEX,KAAM,KAAMW,IAAI,GAClB,CAAEX,KAAM,KAAMW,IAAI,GAClB,CAAEX,KAAM,KAAMW,IAAI,GAClB,CAAEX,KAAM,KAAMW,IAAI,GAClB,CAAEX,KAAM,KAAMW,IAAI,GAClB,CAAEX,KAAM,MAAOW,IAAI,GACnB,CAAEX,KAAM,OAAQW,IAAI,GACpB,CAAEX,KAAM,KAAMW,IAAI,GAClB,CAAEX,KAAM,KAAMW,IAAI,KAEpB,eAAQ,OAAQH,GAChB,IAAIuB,EAAQ,GA3BN,SAkDSL,IAlDT,6FAkDN,6GACMM,EAAS,CACXC,IAAKF,EAAM/B,KACXkC,MAAOV,EACPW,OAAQX,GAASC,EAAYW,MAAQ,IAJzC,SAMqB,eAAaJ,GANlC,OAMMK,EANN,OAOsB,MAAhBA,EAAOC,OACTnB,EAAUA,UAAY,GACtBA,EAAUA,UAAYkB,EAAOlB,UAC7BI,EAAaa,MAAQG,KAAKC,KAAKH,EAAOI,MAAQjB,IAVlD,2CAlDM,wBAgEN,OApCA,eACEhB,GACA,SAACkC,GACCX,EAAQW,EAASC,MAAK,SAAClC,GACrB,OAAOA,EAAIE,MAGbe,MAEF,CAAEkB,WAAW,IAKd,yDAAC,oHACmB,iBADnB,OACIP,EADJ,OAEoB,MAAhBA,EAAOC,OACTnB,EAAUC,WAAaiB,EAAOlB,UAAU,IAH1C,2CAAD,SAAgB0B,IAAhB,sCAAgBA,EAAhB,KAsBM,CAAE1B,YAAWtB,UAAA,OAAW0B,iBAEjCuB,WAAY,CAAEC,YAAA,KAAWC,WAAA,KAAUC,aAAA,O,iCC9FrC,MAAM3C,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"js/chunk-24e08610.e0b4018f.js","sourcesContent":["// 位于\"推荐歌单\"页面中的, 方形歌单单元\r\n<template>\r\n  <div\r\n    class=\"list-card\"\r\n    v-if=\"playlist\"\r\n    @click=\"$router.push({ path: '/playlistDetail', query: { id: playlist.id } })\"\r\n  >\r\n    <div class=\"img-part\">\r\n      <img v-lazy=\"genImgURL(imgUrl, 360)\" alt=\"\" :key=\"imgUrl\" />\r\n      <div class=\"tag\">播放量: {{ simplifyPlayCount(playlist.playCount) }}</div>\r\n      <div class=\"play-icon\">\r\n        <i class=\"iconfont icon-bofang\"></i>\r\n      </div>\r\n    </div>\r\n    <p class=\"list-name\">{{ playlist.name }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { genImgURL, simplifyPlayCount } from \"@/utils/common\"\r\nimport { computed } from \"vue\"\r\nexport default {\r\n  props: {\r\n    playlist: Object,\r\n  },\r\n  setup(props) {\r\n    const imgUrl = computed(() => {\r\n      if (props.playlist.coverImgUrl) return props.playlist.coverImgUrl\r\n      if (props.playlist.picUrl) return props.playlist.picUrl\r\n    })\r\n    return { imgUrl, genImgURL, simplifyPlayCount }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.list-card {\r\n  width: 20%;\r\n  font-size: @font-size-sm;\r\n  color: var(--font-color);\r\n  padding: 4px 4px 32px;\r\n  cursor: pointer;\r\n  .img-part {\r\n    position: relative;\r\n    width: 100%;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    &:hover .tag {\r\n      transform: translateY(0);\r\n    }\r\n    &:hover .play-icon {\r\n      opacity: 1;\r\n    }\r\n    img {\r\n      border-radius: 5px;\r\n      width: 100%;\r\n    }\r\n    .tag {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 28px;\r\n      line-height: $height;\r\n      padding-left: 10px;\r\n      color: #fff;\r\n      background-color: rgba(0, 0, 0, 0.4);\r\n      transition: 0.3s;\r\n      transform: translateY(-100%);\r\n    }\r\n    .play-icon {\r\n      position: absolute;\r\n      bottom: 7px;\r\n      right: 4px;\r\n      width: 36px;\r\n      height: $width;\r\n      line-height: $height;\r\n      text-align: center;\r\n      border-radius: 50%;\r\n      background-color: @font-color-transparent;\r\n      transition: 0.3s;\r\n      opacity: 0;\r\n      i {\r\n        font-size: @font-size;\r\n        padding-left: 2px;\r\n        vertical-align: middle;\r\n        color: @theme-color;\r\n      }\r\n    }\r\n  }\r\n  .list-name {\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ListCard.vue?vue&type=template&id=02c7a1cd&scoped=true\"\nimport script from \"./ListCard.vue?vue&type=script&lang=js\"\nexport * from \"./ListCard.vue?vue&type=script&lang=js\"\n\nimport \"./ListCard.vue?vue&type=style&index=0&id=02c7a1cd&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\Programming\\\\Practice\\\\项目\\\\online-player\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-02c7a1cd\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./RecLists.vue?vue&type=style&index=0&id=76899dd2&lang=less&scoped=true\"","// 标签组 基本款\r\n<template>\r\n  <div class=\"tabs-basic\">\r\n    <span\r\n      class=\"tab-basic\"\r\n      :class=\"{ on: tab.on }\"\r\n      v-for=\"(tab, index) in tabs\"\r\n      :key=\"index\"\r\n      @click=\"onClick(tab)\"\r\n      :style=\"{ fontSize: `${fontSize}px` }\"\r\n      >{{ tab.name }}</span\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { inject } from \"vue\"\r\nexport default {\r\n  props: {\r\n    fontSize: {\r\n      type: Number,\r\n      default: 12,\r\n    },\r\n  },\r\n  setup() {\r\n    // 为了通信方便,该组件必须从父组件接收定义好的tabs数组. tabs中的每个对象必须具有name和on属性\r\n    let tabs = inject(\"tabs\")\r\n\r\n    // 将被点击的tab的on属性变为true\r\n    let previousOnTab = tabs[0]\r\n    function onClick(tab) {\r\n      if (previousOnTab !== tab) {\r\n        tab.on = true\r\n        previousOnTab.on = false\r\n        previousOnTab = tab\r\n      }\r\n    }\r\n    return { onClick, tabs }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.tabs-basic {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  height: 38px;\r\n  .tab-basic {\r\n    padding: 12px 0;\r\n    margin: 0 12px;\r\n    color: var(--tab-item-color);\r\n    font-size: @font-size-sm;\r\n    cursor: pointer;\r\n    &.on {\r\n      color: @theme-color;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./TabsBasic.vue?vue&type=template&id=49c93b61&scoped=true\"\nimport script from \"./TabsBasic.vue?vue&type=script&lang=js\"\nexport * from \"./TabsBasic.vue?vue&type=script&lang=js\"\n\nimport \"./TabsBasic.vue?vue&type=style&index=0&id=49c93b61&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\Programming\\\\Practice\\\\项目\\\\online-player\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-49c93b61\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ListCard.vue?vue&type=style&index=0&id=02c7a1cd&lang=less&scoped=true\"","// \"推荐歌单\"一级路由页\r\n<template>\r\n  <div class=\"rec-lists\">\r\n    <div class=\"top-card\" v-if=\"playlists.HQPlaylist.id\">\r\n      <img v-lazy=\"genImgURL(playlists.HQPlaylist.coverImgUrl, 280)\" alt=\"\" />\r\n      <div class=\"content\">\r\n        <div class=\"tag\">精品歌单</div>\r\n        <p class=\"name\">{{ playlists.HQPlaylist.name }}</p>\r\n        <p class=\"description\">\r\n          {{ playlists.HQPlaylist.description }}\r\n        </p>\r\n      </div>\r\n      <div class=\"background\">\r\n        <div class=\"mask\"></div>\r\n        <img v-lazy=\"genImgURL(playlists.HQPlaylist.coverImgUrl, 1000, 200)\" alt=\"\" />\r\n      </div>\r\n    </div>\r\n    <TabsBasic></TabsBasic>\r\n    <div class=\"lists-wrapper\" v-if=\"playlists.playlists.length\">\r\n      <ListCard v-for=\"(playlist, index) in playlists.playlists\" :key=\"index\" :playlist=\"playlist\"></ListCard>\r\n    </div>\r\n    <Pagination :totalPageNum=\"totalPageNum\"></Pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TabsBasic from \"@/components/TabsBasic\"\r\nimport ListCard from \"@/components/ListCard\"\r\nimport Pagination from \"@/components/Pagination\"\r\nimport { ref, reactive, provide, watch } from \"vue\"\r\nimport { reqPlaylists, reqHQPlaylists } from \"@/api/music\"\r\nimport { genImgURL } from \"@/utils/common\"\r\n\r\nconst LIMIT = 25\r\nexport default {\r\n  setup() {\r\n    let playlists = reactive({ HQPlaylist: {}, playlists: [] })\r\n    // 总页数\r\n    let totalPageNum = ref(1)\r\n    // 页码\r\n    let currentPage = ref(1)\r\n    provide(\"currentPage\", currentPage)\r\n    watch(currentPage, () => {\r\n      getPlaylists()\r\n      document.querySelector(\".w\").scrollIntoView({ behavior: \"smooth\" })\r\n    })\r\n\r\n    let tabs = reactive([\r\n      { name: \"全部\", on: true },\r\n      { name: \"欧美\", on: false },\r\n      { name: \"华语\", on: false },\r\n      { name: \"日语\", on: false },\r\n      { name: \"流行\", on: false },\r\n      { name: \"说唱\", on: false },\r\n      { name: \"摇滚\", on: false },\r\n      { name: \"民谣\", on: false },\r\n      { name: \"轻音乐\", on: false },\r\n      { name: \"影视原声\", on: false },\r\n      { name: \"怀旧\", on: false },\r\n      { name: \"治愈\", on: false },\r\n    ])\r\n    provide(\"tabs\", tabs)\r\n    let tabOn = {}\r\n    watch(\r\n      tabs,\r\n      (newValue) => {\r\n        tabOn = newValue.find((tab) => {\r\n          return tab.on\r\n        })\r\n\r\n        getPlaylists()\r\n      },\r\n      { immediate: true }\r\n    )\r\n\r\n    //-------------------------------------获取歌单----------------------------\r\n    // 获取精品歌单\r\n    ;(async function getHQPlaylist() {\r\n      let result = await reqHQPlaylists()\r\n      if (result.code === 200) {\r\n        playlists.HQPlaylist = result.playlists[0]\r\n      }\r\n    })()\r\n\r\n    //获取普通歌单\r\n    async function getPlaylists() {\r\n      let params = {\r\n        cat: tabOn.name,\r\n        limit: LIMIT,\r\n        offset: LIMIT * (currentPage.value - 1),\r\n      }\r\n      let result = await reqPlaylists(params)\r\n      if (result.code === 200) {\r\n        playlists.playlists = []\r\n        playlists.playlists = result.playlists\r\n        totalPageNum.value = Math.ceil(result.total / LIMIT)\r\n      }\r\n    }\r\n\r\n    return { playlists, genImgURL, totalPageNum }\r\n  },\r\n  components: { TabsBasic, ListCard, Pagination },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.rec-lists {\r\n  padding: 12px;\r\n}\r\n.top-card {\r\n  position: relative;\r\n  z-index: 1;\r\n  display: flex;\r\n  height: 172px;\r\n  border-radius: 5px;\r\n  margin-bottom: 16px;\r\n  padding: 16px;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  overflow: hidden;\r\n  & > img {\r\n    margin-right: 8px;\r\n  }\r\n  .content {\r\n    .tag {\r\n      width: 90px;\r\n      height: 26px;\r\n      margin: 7px 0 16px;\r\n      line-height: $height;\r\n      text-align: center;\r\n      color: @gold;\r\n      border: 1px solid @gold;\r\n      border-radius: 5px;\r\n      cursor: pointer;\r\n    }\r\n    .name {\r\n      margin-bottom: 8px;\r\n      font-size: @font-size-lg;\r\n      color: #fff;\r\n    }\r\n    .description {\r\n      height: 60px;\r\n      line-height: 15px;\r\n      font-size: @font-size-sm;\r\n      color: var(--font-color-grey-shallow);\r\n\r\n      display: -webkit-box;\r\n      overflow: hidden;\r\n      -webkit-line-clamp: 4;\r\n      -webkit-box-orient: vertical;\r\n      text-overflow: ellipsis;\r\n    }\r\n  }\r\n  /* \r\n    需求: 背景图模糊\r\n    backdrop-filter在chrome有效,但在火狐浏览器无效,需要手动开启该功能 \r\n    所以只能用filter来做. filter相当于加了一层遮罩在元素上面, 元素内部的所有东西都被影响\r\n    但是filter不仅作用于本元素,还作用于本元素的子元素\r\n      所以给父元素一个after伪子元素,在伪子元素内做背景模糊\r\n      或者单独创建一个背景层, 只对背景层使用blur\r\n  */\r\n  .background {\r\n    position: absolute;\r\n    z-index: -10;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    img {\r\n      position: absolute;\r\n      z-index: -10;\r\n      filter: blur(20px);\r\n    }\r\n    .mask {\r\n      position: absolute;\r\n      z-index: -9;\r\n      top: 0;\r\n      bottom: 0;\r\n      left: 0;\r\n      right: 0;\r\n      background-color: rgba(0, 0, 0, 0.5);\r\n    }\r\n  }\r\n}\r\n.lists-wrapper {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n</style>\r\n","import { render } from \"./RecLists.vue?vue&type=template&id=76899dd2&scoped=true\"\nimport script from \"./RecLists.vue?vue&type=script&lang=js\"\nexport * from \"./RecLists.vue?vue&type=script&lang=js\"\n\nimport \"./RecLists.vue?vue&type=style&index=0&id=76899dd2&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\Programming\\\\Practice\\\\项目\\\\online-player\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-76899dd2\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TabsBasic.vue?vue&type=style&index=0&id=49c93b61&lang=less&scoped=true\""],"sourceRoot":""}